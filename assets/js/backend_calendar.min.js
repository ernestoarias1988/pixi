window.BackendCalendar=window.BackendCalendar||{},function(){"use strict";window.BackendCalendar.initialize=function(e){BackendCalendarGoogleSync.initialize(),BackendCalendarAppointmentsModal.initialize(),BackendCalendarUnavailabilityEventsModal.initialize(),"table"===e?BackendCalendarTableView.initialize():BackendCalendarDefaultView.initialize(),$("#calendar-page").on("click","#toggle-fullscreen",function(){var e=$(this),n=document.documentElement;document.fullScreenElement||document.mozFullScreen||document.webkitIsFullScreen?(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),e.removeClass("btn-success").addClass("btn-light")):(n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen(),e.removeClass("btn-light").addClass("btn-success"))}),$("#insert-working-plan-exception").on("click",function(){var t=$("#select-filter-item").val(),r=GlobalVariables.availableProviders.find(function(e){return Number(e.id)===Number(t)});if(!r)throw new Error("Provider could not be found: "+t);WorkingPlanExceptionsModal.add().done(function(i,a){BackendCalendarApi.saveWorkingPlanException(i,a,t,function(){Backend.displayNotification(EALang.working_plan_exception_saved);var e=JSON.parse(r.settings.working_plan_exceptions)||{};for(var n in e[i]=a,GlobalVariables.availableProviders){var l=GlobalVariables.availableProviders[n];if(Number(l.id)===Number(t)){GlobalVariables.availableProviders[n].settings.working_plan_exceptions=JSON.stringify(e);break}}$("#select-filter-item").trigger("change")},null)})})}}();